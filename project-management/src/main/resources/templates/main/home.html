<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layouts :: header"></head>
<body>

	<nav th:replace="layouts :: navbar"></nav>

	<div class="container">
		<h3>Main Dashboard</h3>
		<hr>
		
		<h4> Current Projects </h4>
		<div class="row">
			<div class ="col-md-6">
				<table class = "table table-bordered table-striped">
					<thead class = "thead-dark">
						<tr>
							<th> Project Name </th>
							<th> Project Stage </th>
						</tr>
					</thead>
					
					<tbody>
						<tr th:each="aProject : ${projectsList}"> 
							<td th:text="${aProject.name}"> </td>
							<td th:text="${aProject.stage}"> </td>
						</tr>
						
					</tbody>
				</table>
			</div>
		
			<div class = "col-md-4">
				<canvas id="myPieChart" height="50" width="50"></canvas>
				<script>
					var chartData = "[[${projectStatusCnt}]]"; //This is the general convention to access variables from model in JS using thymeleaf
					
				</script>
			</div>
			
		</div>
		
		<h4> Current Employees</h4>
		<div class="row">
			<div class = "col-md-6">
				<table class = "table table-bordered table-striped">
					<thead class = "thead-dark">
						<tr>
							<th> First Name </th>
							<th> Last Name </th>
							<th> Project Count </th>
						</tr>
					</thead>
					
					<tbody>
						<tr th:each="aEmployeeProjectCnt : ${employeeListProjectsCnt}"> 
							<td th:text="${aEmployeeProjectCnt.firstName}"> </td>
							<td th:text="${aEmployeeProjectCnt.lastName}"> </td>
							<td th:text="${aEmployeeProjectCnt.projectCount}"> </td>
						</tr>
						
					</tbody>
				</table>
			</div>
		</div>
	</div>
	

</body>

<script type="text/javascript" th:src="@{js/myChart.js}"></script>
<!-- 	    
		<script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
	    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
		<script src="https://cdn.rawgit.com/crlcu/multiselect/v2.5.1/dist/js/multiselect.min.js"></script>
-->
</html>





